---
import { Picture } from "astro:assets";
import { getExperienciesInfo} from "@wp/index.js";
import CategoryNav from "@components/CategoryNav.astro";

const { lang, slug } = Astro.params;

const experiencies = await getExperienciesInfo(lang);
---
<CategoryNav lang={lang} slug={slug} />

<div class="bg-gray-100 p-6">
  {
    experiencies.map((experiencia) => (

    <a href={experiencia.link} class="flex flex-col justify-center items-center gap-2  bg-gray-100 shadow-[0_4px_4px_rgba(0,0,0,0.25)] pt-4 pb-1 px-4">
      <h4 class="text-h4 font-700 text-red text-center px-2">
        {experiencia.title}
      </h4>
      <Picture formats={['webp', 'avif', 'jpeg']} src={experiencia.imageUrl} alt={experiencia.imageAlt} width="320" height="126"/>

      <p class="text-sm text-black font-400 text-center">{experiencia.text}</p>

      <div class="flex flex-row items-center justify-around w-full">
        <a class="bg-red text-white font-700 py-1 px-2 rounded-3xl">
            {experiencia.pinVoluntariat}
        </a>
        <a class="bg-red text-white font-700 py-1 px-2 rounded-3xl">
            {experiencia.pinPais}
        </a>
      </div>
    </a>
  ))} 
</div>
